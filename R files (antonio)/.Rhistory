library(readxl)
install.packages("readxl")
library(readxl)
dados <- read_excel("Base_Dados_Final.xlsx")
View(dados)
View(dados)
dados <- na.omit(dados)
View(dados)
View(dados)
View(dados)
View(dados)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
dados$Taxa_Desemprego <- as.numeric(dados$Taxa_Desemprego)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
View(dados)
View(dados)
View(dados)
colSums(is.na(dados))
View(dados)
dados <- read_excel("Base_Dados_Final.xlsx")
dados <- na.omit(dados)
dados$Taxa_Desemprego <- as.numeric(dados$Taxa_Desemprego)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
colSums(is.na(dados))
View(dados)
dados[dados == "NA"] <- NA
dados <- na.omit(dados)
dados$Taxa_Desemprego <- as.numeric(dados$Taxa_Desemprego)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
View(dados)
dados <- read_excel("Base_Dados_Final.xlsx")
View(dados)
dados$Rendimento_medio_liquido..euros. <- as.numeric(dados$Rendimento_medio_liquido..euros.)
dados <- read_excel("Base_Dados_Final.xlsx")
dados$`Rendimento_medio_liquido (euros)`[
dados$`Rendimento_medio_liquido (euros)` == "NA"
] <- NA
View(dados)
dados$`Rendimento_medio_liquido (euros)` <-
as.numeric(dados$`Rendimento_medio_liquido (euros)`)
dados$Taxa_Desemprego[dados$Taxa_Desemprego == "NA"] <- NA
View(dados)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
dados$Taxa_Desemprego <- as.numeric(dados$Taxa_Desemprego)
dados$Taxa_Desemprego <- round(dados$Taxa_Desemprego, 1)
View(dados)
colSums(is.na(dados))
head(dados)
str(dados)
View(dados)
library(lubridate)
install.packages("lubridate")
library(lubridate)
dados$Ano <- as.numeric(sub(".* de (\\d{4})", "\\1", dados$`Período de referência dos dados`))
dados$Trim <- as.numeric(substr(dados$`Período de referência dos dados`, 1, 1))
View(dados)
dados$Data <- yq(paste0(dados$Ano, " Q", dados$Trim))
View(dados)
dados$Data <- NULL
View(dados)
modelo1 <- lm(Taxa_Desemprego ~ PIB_real + Proporção_15_24 +
Emprego_Terciario + `Rendimento_medio_liquido (euros)`,
data = dados)
View(modelo1)
View(modelo1)
summary(modelo1)
plot(modelo1)
plot(modelo1)
install.packages("rstanarm")
library(rstanarm)
modelo_bayes <- stan_glm(
Taxa_Desemprego ~ PIB_real + Proporção_15_24 + Emprego_Terciario + `Rendimento_medio_liquido (euros)`,
data = dados,
family = gaussian(),
prior = normal(0, 10),             # prior para os betas
prior_intercept = normal(0, 20),   # prior para intercepto
chains = 4,                        # número de cadeias MCMC
iter = 4000,                       # nº total de iterações
warmup = 1000,                     # burn-in
seed = 123
)
View(modelo_bayes)
summary(modelo_bayes)
plot(modelo_bayes)
posterior_interval(modelo_bayes)
library(bayesplot)
mcmc_trace(as.array(modelo_bayes))
mcmc_rhat(rhat(modelo_bayes))
mcmc_neff(neff_ratio(modelo_bayes))
mcmc_rhat(rhat(modelo_bayes))
plot(modelo_bayes)
previsoes <- posterior_predict(modelo_bayes)
View(previsoes)
View(previsoes)
apply(previsoes, 2, mean)
apply(previsoes, 2, quantile, c(0.025, 0.975))
clear
rm(list = ls())
library(readxl)
dados <- read_excel("Base_Dados_Final.xlsx")
rm(list = ls())
install.packages(c("rmarkdown", "tinytex"))
install.packages(c("rmarkdown", "tinytex"))
tinytex::install_tinytex()
rmarkdown::render("NOME_DO_FICHEIRO.Rmd")
rmarkdown::render("reportMarkDown.Rmd")
rmarkdown::render("reportMarkDown.Rmd")
rmarkdown::render("reportMarkDown.Rmd")
install.packages("tinytex")
rm(list = ls())
rm(list = ls())
library(tinytex)
tinytex::is_tinytex()
rmarkdown::render("reportMarkDown.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rm(list = ls())
# helper_heavy.R
# ---- Pacotes necessários ----
library(readxl)
library(dplyr)
library(rstanarm)
# ---- Ler e preparar os dados ----
dados <- read_excel("Base_Dados_Final.xlsx")
dados <- dados %>%
arrange(desc(row_number())) %>%      # inverte a ordem das linhas
mutate(Trimestre = row_number())    # índice sequencial do mais antigo para o mais recente
# ---- Guardar os dados já tratados ----
saveRDS(dados, "dados_tratados.rds")
# ---- Calcular média da taxa de desemprego (para a priori do intercepto) ----
media_desemprego <- mean(dados$Taxa_Desemprego)
# ---- Ajustar o modelo bayesiano (parte pesada) ----
set.seed(123)
modelo_bayes <- stan_glm(
Taxa_Desemprego ~ PIB_real + Proporção_15_24 + Emprego_Terciario + Rendimento_medio_liquido,
data = dados,
family = gaussian(),
prior = normal(0, 1),
prior_intercept = normal(media_desemprego, 3),
chains = 4,
iter = 4000,
warmup = 1000,
seed = 123
)
# ---- Guardar o modelo para usar no Rmd ----
saveRDS(modelo_bayes, "modelo_bayes.rds")
rmarkdown::render("Trabalho_IEB.Rmd")
clear
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rm(list = ls())
source("helper_heavy.R")
rm(list = ls())
source("helper_heavy.R")
rmarkdown::render("Trabalho_IEB.Rmd")
clear
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rm(list = ls())
source("helper_heavy.R")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
rmarkdown::render("Trabalho_IEB.Rmd")
